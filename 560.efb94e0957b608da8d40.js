"use strict";(self.webpackChunkpa006_atherp_front=self.webpackChunkpa006_atherp_front||[]).push([[560],{3700:(C,u,o)=>{o.d(u,{y:()=>b});var g=o(9957),v=o(7914),i=o(2741),_=o(6274);function d(a,f){1&a&&(i.ynx(0),i.TgZ(1,"div",1),i.Hsn(2),i.qZA(),i.TgZ(3,"div",2),i.Hsn(4,1),i.qZA(),i.BQk())}function p(a,f){1&a&&(i.TgZ(0,"div",4),i.Hsn(1,3),i.qZA()),2&a&&i.Q6J("@expandCollapse",void 0)}function m(a,f){if(1&a&&(i.ynx(0),i.Hsn(1,2),i.YNc(2,p,2,1,"div",3),i.BQk()),2&a){const c=i.oxw();i.xp6(2),i.Q6J("ngIf",c.expanded)}}const h=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],Z=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];let b=(()=>{class a{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(c){"expanded"in c&&(this.expanded=(0,g.Ig)(c.expanded.currentValue)),"flippable"in c&&(this.flippable=(0,g.Ig)(c.flippable.currentValue))}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(c,e){2&c&&i.Tol(e.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[i.TTD],ngContentSelectors:Z,decls:2,vars:2,consts:[[4,"ngIf"],[1,"fuse-card-front"],[1,"fuse-card-back"],["class","fuse-card-expansion",4,"ngIf"],[1,"fuse-card-expansion"]],template:function(c,e){1&c&&(i.F$t(h),i.YNc(0,d,5,0,"ng-container",0),i.YNc(1,m,3,1,"ng-container",0)),2&c&&(i.Q6J("ngIf",e.flippable),i.xp6(1),i.Q6J("ngIf",!e.flippable))},directives:[_.O5],styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;-webkit-backface-visibility:hidden;backface-visibility:hidden}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:v.L}}),a})()},4296:(C,u,o)=>{o.d(u,{J:()=>_}),o(3700);var v=o(6274),i=o(2741);let _=(()=>{class d{}return d.\u0275fac=function(m){return new(m||d)},d.\u0275mod=i.oAB({type:d}),d.\u0275inj=i.cJS({imports:[[v.ez]]}),d})()},1560:(C,u,o)=>{o.r(u),o.d(u,{CustomersModule:()=>R});var g=o(5543),v=o(7319),i=o(4296),_=o(195),d=o(3324),p=o(2578),m=o(2397),h=o(6006),Z=o(636),b=o(7194),a=o(2812),f=o(8561),c=o(7914),e=o(2741),T=o(7554),y=o(4847),w=o(1749),A=o(7617),I=o(3700),k=o(823),Q=o(9018),x=o(6274);function U(t,s){if(1&t&&e._UZ(0,"img",52),2&t){const n=e.oxw().$implicit;e.Q6J("alt","Product thumbnail image")("src",n.thumbnail,e.LSH)}}function J(t,s){1&t&&(e.TgZ(0,"div",53),e._uU(1," NO THUMB "),e.qZA())}function F(t,s){1&t&&(e.TgZ(0,"div",54),e._UZ(1,"div",55),e.qZA())}function B(t,s){1&t&&(e.TgZ(0,"div",56),e._UZ(1,"div",57),e.qZA())}function N(t,s){1&t&&(e.TgZ(0,"div",58),e._UZ(1,"div",59),e.qZA())}function O(t,s){1&t&&(e.ynx(0),e._UZ(1,"mat-icon",60),e.BQk()),2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function q(t,s){1&t&&(e.ynx(0),e._UZ(1,"mat-icon",61),e.BQk()),2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function M(t,s){1&t&&e.GkF(0)}const Y=function(t){return{$implicit:t}};function D(t,s){if(1&t&&(e.ynx(0),e.YNc(1,M,1,0,"ng-container",62),e.BQk()),2&t){const n=e.oxw().$implicit,r=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",r.rowDetailsTemplate)("ngTemplateOutletContext",e.VKq(2,Y,n))}}function E(t,s){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",37),e.TgZ(2,"div",38),e.TgZ(3,"div",39),e.YNc(4,U,1,2,"img",40),e.YNc(5,J,2,0,"div",41),e.qZA(),e.qZA(),e.TgZ(6,"div",42),e._uU(7),e.qZA(),e.TgZ(8,"div",43),e._uU(9),e.qZA(),e.TgZ(10,"div",33),e._uU(11),e.ALo(12,"currency"),e.qZA(),e.TgZ(13,"div",44),e.TgZ(14,"div",45),e._uU(15),e.qZA(),e.YNc(16,F,2,0,"div",46),e.YNc(17,B,2,0,"div",47),e.YNc(18,N,2,0,"div",48),e.qZA(),e.TgZ(19,"div",49),e.YNc(20,O,2,1,"ng-container",34),e.YNc(21,q,2,1,"ng-container",34),e.qZA(),e.TgZ(22,"div"),e.TgZ(23,"button",50),e.NdJ("click",function(){const W=e.CHM(n).$implicit;return e.oxw(3).openDialog(W)}),e._UZ(24,"mat-icon",51),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",27),e.YNc(26,D,2,4,"ng-container",34),e.qZA(),e.BQk()}if(2&t){const n=s.$implicit,r=e.oxw(3);e.xp6(4),e.Q6J("ngIf",n.thumbnail),e.xp6(1),e.Q6J("ngIf",!n.thumbnail),e.xp6(2),e.hij(" ",n.sku," "),e.xp6(2),e.hij(" ",n.name," "),e.xp6(2),e.hij(" ",e.gM2(12,13,n.price,"USD","symbol","1.2-2")," "),e.xp6(4),e.Oqu(n.stock),e.xp6(1),e.Q6J("ngIf",n.stock<20),e.xp6(1),e.Q6J("ngIf",n.stock>=20&&n.stock<30),e.xp6(1),e.Q6J("ngIf",n.stock>=30),e.xp6(2),e.Q6J("ngIf",n.active),e.xp6(1),e.Q6J("ngIf",!n.active),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:eye"),e.xp6(2),e.Q6J("ngIf",(null==r.selectedProduct?null:r.selectedProduct.id)===n.id)}}function L(t,s){if(1&t&&(e.ynx(0),e.YNc(1,E,27,18,"ng-container",36),e.BQk()),2&t){const n=s.ngIf,r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n)("ngForTrackBy",r.trackByFn)}}const S=function(t){return{"pointer-events-none":t}},z=function(){return[5,10,25,100]};function P(t,s){if(1&t&&(e.ynx(0),e.TgZ(1,"div",27),e.TgZ(2,"div",28),e._UZ(3,"div"),e.TgZ(4,"div",29),e._uU(5," C\xf3digo "),e.qZA(),e.TgZ(6,"div",30),e._uU(7,"Nombre"),e.qZA(),e.TgZ(8,"div",31),e._uU(9," Precio "),e.qZA(),e.TgZ(10,"div",32),e._uU(11," Stock "),e.qZA(),e.TgZ(12,"div",32),e._uU(13," Activo "),e.qZA(),e.TgZ(14,"div",33),e._uU(15,"Detalles"),e.qZA(),e.qZA(),e.YNc(16,L,2,2,"ng-container",34),e.ALo(17,"async"),e._UZ(18,"mat-paginator",35),e.qZA(),e.BQk()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("mat-sort-header","sku"),e.xp6(2),e.Q6J("mat-sort-header","name"),e.xp6(2),e.Q6J("mat-sort-header","price"),e.xp6(2),e.Q6J("mat-sort-header","stock"),e.xp6(2),e.Q6J("mat-sort-header","active"),e.xp6(4),e.Q6J("ngIf",e.lcZ(17,12,n.customers$)),e.xp6(2),e.Q6J("ngClass",e.VKq(14,S,n.isLoading))("length",n.pagination.length)("pageIndex",n.pagination.page)("pageSize",n.pagination.size)("pageSizeOptions",e.DdM(16,z))("showFirstLastButtons",!0)}}function H(t,s){1&t&&(e.TgZ(0,"div",63),e._uU(1,"No ha creado ningun cliente a\xfan!"),e.qZA())}const j=[{path:"",component:(()=>{class t{constructor(n,r,l){this._changeDetectorRef=n,this._customerService=r,this._router=l,this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new d.NI,this.selectedCustomer=null,this._unsubscribeAll=new h.xQ}ngOnInit(){}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,b.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0,this.closeDetails()}),(0,Z.T)(this._sort.sortChange,this._paginator.page).pipe((0,a.w)(()=>(this.closeDetails(),this.isLoading=!0,this._customerService.getCustomers(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,f.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}closeDetails(){this.selectedCustomer=null}createCustomer(){this._router.navigateByUrl("/modules/customers/new")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(T.v),e.Y36(g.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["customers"]],viewQuery:function(n,r){if(1&n&&(e.Gf(p.NW,5),e.Gf(m.YE,5)),2&n){let l;e.iGM(l=e.CRH())&&(r._paginator=l.first),e.iGM(l=e.CRH())&&(r._sort=l.first)}},decls:36,vars:9,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"hidden","sm:flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","sm:text-2xl","font-extrabold","tracking-tight","leading-tight"],[1,"flex","flex-shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","bg-primary-500","text-white","rounded-md","hover:bg-primary-700","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","filter-post"],[1,"flex","flex-col","mx-4","sm:mx-8","mt-6","mb-3"],[1,"flex","items-start"],[1,"fuse-mat-dense","fuse-mat-no-subscript","min-w-50","border-none"],["matInput","","type","text",3,"formControl","autocomplete","placeholder"],[1,"max-h-120","overflow-y-auto"],[4,"ngIf","ngIfElse"],["noCustomers",""],[1,"grid"],["matSort","","matSortDisableClear","",1,"inventory-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"hidden","md:block",3,"mat-sort-header"],[3,"mat-sort-header"],[1,"hidden","sm:block",3,"mat-sort-header"],[1,"hidden","lg:block",3,"mat-sort-header"],[1,"hidden","sm:block"],[4,"ngIf"],[1,"sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"inventory-grid","grid","items-center","gap-4","py-3","px-6","md:px-8","border-b"],[1,"flex","items-center"],[1,"relative","flex","flex-0","items-center","justify-center","w-12","h-12","mr-6","rounded","overflow-hidden","border"],["class","w-8",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"hidden","md:block","truncate"],[1,"truncate"],[1,"hidden","lg:flex","items-center"],[1,"min-w-4"],["class","flex items-end ml-2 w-1 h-4 bg-red-200 rounded overflow-hidden",4,"ngIf"],["class","flex items-end ml-2 w-1 h-4 bg-orange-200 rounded overflow-hidden",4,"ngIf"],["class","flex items-end ml-2 w-1 h-4 bg-green-100 rounded overflow-hidden",4,"ngIf"],[1,"hidden","lg:block"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,"flex","items-end","ml-2","w-1","h-4","bg-red-200","rounded","overflow-hidden"],[1,"flex","w-full","h-1/3","bg-red-600"],[1,"flex","items-end","ml-2","w-1","h-4","bg-orange-200","rounded","overflow-hidden"],[1,"flex","w-full","h-2/4","bg-orange-400"],[1,"flex","items-end","ml-2","w-1","h-4","bg-green-100","rounded","overflow-hidden"],[1,"flex","w-full","h-full","bg-green-400"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div"),e.TgZ(4,"div",3),e.TgZ(5,"div"),e.TgZ(6,"a",4),e._uU(7,"M\xf3dulos"),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Clientes"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",8),e.TgZ(13,"a",9),e._UZ(14,"mat-icon",6),e.TgZ(15,"span",10),e._uU(16,"Regresar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",11),e.TgZ(18,"div",12),e._uU(19," Clientes "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",13),e.TgZ(21,"button",14),e.NdJ("click",function(){return r.createCustomer()}),e._UZ(22,"mat-icon",15),e.TgZ(23,"span",16),e._uU(24,"Nuevo Cliente"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",17),e.TgZ(26,"div",18),e.TgZ(27,"fuse-card",19),e.TgZ(28,"div",20),e.TgZ(29,"div",21),e.TgZ(30,"mat-form-field",22),e._UZ(31,"input",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",24),e.YNc(33,P,19,17,"ng-container",25),e.YNc(34,H,2,0,"ng-template",null,26,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const l=e.MAs(35);e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(8),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(9),e.Q6J("formControl",r.searchInputControl)("autocomplete","off")("placeholder","Nombre..."),e.xp6(2),e.Q6J("ngIf",r.customers$)("ngIfElse",l)}},directives:[y.PQ,w.Hw,g.yS,A.lW,I.y,k.KE,Q.Nt,d.Fj,d.JJ,d.oH,x.O5,m.YE,m.nU,p.NW,x.mk,x.sg,x.tP],pipes:[x.Ov,x.H9],styles:[".inventory-grid{grid-template-columns:48px auto 40px}@media (min-width: 600px){.inventory-grid{grid-template-columns:48px auto 112px 72px}}@media (min-width: 960px){.inventory-grid{grid-template-columns:48px 112px auto 112px 72px}}@media (min-width: 1280px){.inventory-grid{grid-template-columns:48px 112px auto 112px 96px 96px 72px}}\n"],encapsulation:2,data:{animation:c.L},changeDetection:0}),t})()}];let R=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[v.fC,i.J,g.Bz.forChild(j),_.m]]}),t})()}}]);